# 🔗连接GOCQHTTP

本教程将教会你如何将GOCQHTTP接入Nyabot。

首先，下载，安装，配置您的GOCQHTTP，具体教程可参考[GOCQHTTP官网](https://docs.go-cqhttp.org/guide/quick_start.html#%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B)，这不在本教程的范畴内，所以不做过多讲解。**注意，这里的配置只需完成最基本的登录QQ，其他的在后面教程中会提到**

接着，在您的GOCQHTTP配置中 Server是这一项下，添加连接到的ws服务器，以下是一个样例，您可以根据实际情况修改配置文件，样例中的配置点代表应当按照自身实际情况修改的部分：

```
# 连接服务列表
servers:
  # 添加方式，同一连接方式可添加多个，具体配置说明请查看文档
  #- http: # http 通信
  #- ws:   # 正向 Websocket
  #- ws-reverse: # 反向 Websocket
  #- pprof: #性能分析服务器
  - ws-reverse:
      universal: ws://127.0.0.1:(1145)/api/gocqhttp #配置点，使用一个空闲的，没有被占用的端口即可
      # 重连间隔 单位毫秒
      reconnect-interval: 3000
      middlewares:
        <<: *default # 引用默认中间件

```

注意，在这里填写的端口需要在服务器防火墙中放开（安全组放不放无所谓，但是服务器内部至少要能连上它）

接着，在您的Nyabot配置文件中，修改以下部分：

```
gocqhttp:
    enable: true
    host_url: http://127.0.0.1:(1145)/api/gocqhttp #配置点，请将端口号保持和前面写的端口一致
    delay: 3000
    enable_ws: true
```
**下方还有个server部分也要改**
```
server:
    listen_port: "（1145）"#配置点，请将端口号保持和前面写的端口一致
    debug_mode: true
    file_logger: false

```

最后，先启动Nyabot，再启动GoCQHTTP，如果没有报错，Nyabot终端出现这样的返回，应该就没问题啦！
![正常情况](https://i.328888.xyz/2023/04/22/i5RxSd.png)
（同时看一下GoCqHTTP终端，有没有提示连接成功）



如果出现类似这样的错误，请尝试重启Nyabot和GoCqHTTP。
![出错](https://i.328888.xyz/2023/04/22/i5RpKo.png)

如果你认为已经配置完成，可以查看”测试GoCQHTTP“这一章节，来测试你的bot是否可以正常工作
